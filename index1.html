<html>
<head>
<meta http-equiv="Content-Type" content="text/html; charset=UTF-8" />
<style>
button{
	width: 200px;
	height: 60px;
}
</style>
<title>我是人</title> 

</head>
 <script src="http://g.alicdn.com/ilw/ding/0.9.2/scripts/dingtalk.js"></script>

<script type="text/javascript"> 
	document.title = "修改呀";

  dd.ready(setRight);
  // alert("hahaah");

  var  func = 1;


  // for (var i = 1000000000; i >= 0; i--) {
  // 	func++;
  // };

function getAlert(var1) {
	alert("fefff34"); 

	var aaa = window.nuva.require('biz.navigation');
	dd.biz.util.uploadImage({
    multiple: false, //是否多选，默认false
    max: 3, //最多可选个数
    onSuccess : function(result) {
        //onSuccess将在图片上传成功之后调用
        /*
        [
          'http://gtms03.alicdn.com/tps/i3/TB1VF6uGFXXXXalaXXXmh5R_VXX-237-236.png'
        ]
        */
        document.write(result);
        log(JSON.stringify(result));
    },
    onFail : function(err) {
    	alert(JSON.stringify(err));
    }
	});

}


function getConfirm() {
	alert("fefff34"); 

	var getAlert = window.nuva.require('biz.contact');

	getAlert.choose({//5个参数，32种情况
		startWithDepartmentId: -2,
		multiple: true, //是否多选： true多选 false单选； 默认true
    	users: ["1913079016","32135433950"], //默认选中的用户列表，工号；成功回调中应包含该信息
    	disabledUsers:["55692"],
    	corpId: 'dingea786bf7dcce0e0c', //企业id
    	max: 1500, //人数限制，当multiple为true才生效，可选范围1-1500

		onSuccess: function(data) {
			alert(JSON.stringify(data)); 
		},
		onFail: function(err) {
			alert(JSON.stringify(err));
		}
	});
}

dd.ready(function() {
});

//choose使用场景：1.审批选择审批人 2.签到查看他人签到。

//complexChoose使用场景：1.发公告选人；



//pickConversation使用场景：1.发送日志选择聊天窗口 

function getPrompt() {
	var getAlert = window.nuva.require('biz.chat');
	getAlert.pickConversation({
   		"corpId":"dingea786bf7dcce0e0c",
   		"isConfirm":true,

		onSuccess: function(data) {
			alert(JSON.stringify(data));

		},
		onFail: function(err) {
			alert(JSON.stringify(err));
		}
	});
}
function foo(){
		 window.setInterval(pp,500);
	
}
var ss=0;
function pp(){
	console.log("yinyien123" + (ss++));

}
function setMenu() {
var getmenu = window.nuva.require('biz.navigation');

	dd.biz.navigation.setMenu({
		// backgroundColor : "#ADD8E611",
		// textColor : "#FFFFFF",
		items : [
			{
				id:"1",//字符串
			"iconId":"file",//字符串，图标命名
			  text:"帮助"
			}
			,
			{
				"id":"2",
			// "iconId":"",
			  "text":"我也不知道为什",
			  "url":"https://img.alicdn.com/tps/TB1Ygo8LFXXXXcpXFXXXXXXXXXX-750-560.png"
			}
			,
			{
				"id":"3",
			"iconId":"file",
			  "text":"你们"
			}
			,
			{
				"id":"4",
			  "iconId":"file",
			  "text":"他们"
			}
		],
		onSuccess: function(data) {
			alert(JSON.stringify(data));

		},
		onFail: function(err) {
			alert(JSON.stringify(err));
		}
	});
}
function setMenu11() {
var getmenu = window.nuva.require('biz.navigation');

	dd.biz.navigation.setMenu({
		backgroundColor : "#ADD8E6",
		items : [
			// {
			// 	id:"1",//字符串
			// // "iconId":"file",//字符串，图标命名
			//   text:"帮助"
			// }
			// ,
			// {
			// 	"id":"2",
			// "iconId":"photo",
			//   "text":"我们"
			// }
			// ,
			// {
			// 	"id":"3",
			// "iconId":"file",
			//   "text":"你们"
			// }
			// ,
			// {
			// 	"id":"4",
			// "iconId":"time",
			//   "text":"他们"
			// }
		],
		onSuccess: function(data) {
			alert(JSON.stringify(data));

		},
		onFail: function(err) {
			alert(JSON.stringify(err));
		}
	});
}

function warn(){
	var getmenu = window.nuva.require('biz.util');
		getmenu.warn({
			message: {
				111 : 1,
				"222" : "ddew",
				"dwefefef":"ffrefrfrf"
			},
		     onSuccess: function(data) {
		        log.i('warn');
		    },
		    onFail: function(err) {
		        log.e(JSON.stringify(err));
		    }
		});
}

function setLeft(){

var getmenu = window.nuva.require('biz.navigation');

        getmenu.setRight({
        show: false,
    	control: false,
    	showIcon: true,
    	text: '和你',            
    	onSuccess: function(data) {
                log.i('set title 3');
            },
         onFail: function(err) {
                log.e(JSON.stringify(err));
            }


});


var getmenu = window.nuva.require('device.notification');
        getmenu.toast({
    icon: '', //icon样式，有success和error，默认为空 0.0.2
    text: "String", //提示信息
    duration: 2, //显示持续时间，单位秒，默认按系统规范[android只有两种(<=2s >2s)]
    delay: 0, //延迟显示，单位秒，默认0
    onSuccess : function(result) {
        /*{}*/
    },
    onFail : function(err) {}
});
}
function setRight(){
	setIcon();
var getmenu = window.nuva.require('biz.navigation');
   getmenu.setRight({
        show: true,
    	control: false,
    	showIcon: true,
    	text: 'ha',            
    	onSuccess: function(data) {
                log.i('set title 3');
            },
         onFail: function(err) {
                log.e(JSON.stringify(err));
            }


});
}

function setMenu1() {
var getmenu = window.nuva.require('biz.navigation');
        dd.biz.navigation.setTitle({
            title: '我是',
            onSuccess: function(data) {
                log.i('set title 3');
            },
            onFail: function(err) {
                log.e(JSON.stringify(err));
            }
        });
}
function setIcon(){

	dd.biz.navigation.setIcon({
    showIcon : true,//是否显示icon
    iconIndex : 1,//显示的iconIndex,如图
    onSuccess : function(result) {
    	// alert("icon");
    	window.location = "./bb.html?dd_nav_bgcolor=FF5E97F6";
        /*结构
        {
        }*/
        //点击icon之后将会回调这个函数
    },
    onFail : function(err) {
    //jsapi调用失败将会回调此函数
    }
});
}
function setNoIcon(){
	
	dd.biz.navigation.setIcon({
    showIcon : false,//是否显示icon
    iconIndex : 1,//显示的iconIndex,如图
    onSuccess : function(result) {
        /*结构
        {
        }*/
        //点击icon之后将会回调这个函数
    },
    onFail : function(err) {
    //jsapi调用失败将会回调此函数
    }
});
}

var dataSave;
function saveSpace(){
	var saveSpace = window.nuva.require('biz.cspace');
	saveSpace.saveFile({
				corpId:"dingf8b3508f3073b265",
				url:"https://img.alicdn.com/tps/TB1WBR5MXXXXXb9XXXXXXXXXXXX-750-306.png",
				name:"嘿嘿.png",         
				onSuccess: function(data) {
					alert(JSON.stringify(data));
					var var111 = eval(data);
					dataSave = (var111.data)[0];
					alert(JSON.stringify(dataSave));
		            },
	            onFail: function(err) {
	                alert(JSON.stringify(err));
	            }
			});
}
function preview(){
	var preview = window.nuva.require('biz.cspace');
			preview.preview({
				corpId:dataSave.corpId,
				spaceId:dataSave.spaceId,
				fileId:dataSave.fileId,
				fileName:dataSave.fileName,
				fileSize:dataSave.fileSize,
				fileType:dataSave.fileType,
				onSuccess: function(data) {
					alert(JSON.stringify(data));
		        },
			    onFail: function(err) {
			        alert(JSON.stringify(err));
			    }

			});
	}

function openLink(){
	var open = window.nuva.require('biz.util');
	open.openLink({
		url:'http://h5.m.laiwang.com/home/ding.html',
	    onSuccess : function(result) {
	    	alert(JSON.stringify(result));
	    },
	    onFail : function(err) {
	    	alert(JSON.stringify(err));
	    }
	});
}
function NfcRead(){
		var nfc = window.nuva.require('device.nfc');
nfc.nfcRead({
	    onSuccess : function(result) {
	    	alert(JSON.stringify(result));
	    },
	    onFail : function(err) {
	    	alert(JSON.stringify(err));
	    }

});

}
function NfcWrite(){
		var nfc = window.nuva.require('device.nfc');
	nfc.nfcWrite({
		content : "来吧，和我一起战斗吧！让这个悲哀的世界快乐起来！",
	    onSuccess : function(result) {
	    	alert(JSON.stringify(result));
	    },
	    onFail : function(err) {
	    	alert(JSON.stringify(err));
	    }
});

}


function getUser(){
	var var1 = window.nuva.require('biz.user');
	var1.get({
		onSuccess : function(result) {
	    	alert(JSON.stringify(result));
	    },
	    onFail : function(err) {
	    	alert(JSON.stringify(err));
	    }
	});
}
function setTitlefrom(){
	document.title = "";
	alert(document.title);
}

function startRecord(){

var var1 = window.nuva.require('device.audio');

	var1.startRecord({
		onSuccess : function(result) {
	    	alert(JSON.stringify(result));
	    },
	    onFail : function(err) {
	    	alert(JSON.stringify(err));
	    }
	});

}

var dataRecord;

function stopRecord(){

var var1 = window.nuva.require('device.audio');

	var1.stopRecord({
		onSuccess : function(data) {
					alert(JSON.stringify(data));
					var var111 = eval(data);
					dataRecord = var111;		          
	    },
	    onFail : function(err) {
	    	alert(JSON.stringify(err));
	    }
	});

}

function scan(){
var var1 = window.nuva.require('biz.util');

var1.scan({
	"type":"qrCode",
		onSuccess : function(data) {

			var var111 = eval(data);
			alert(var111.text);
			location.href = var111.text;

	    	// alert(JSON.stringify(result));
	    },
	    onFail : function(err) {
	    	alert(JSON.stringify(err));
	    }

});

}

function translation(){
	var var1 = window.nuva.require('device.audio');
	var1.translateVoice({
		mediaId: dataRecord.mediaId,
        duration: 4981,
        onSuccess: function (res) {
            alert(res.mediaId);
            alert(res.content);
        },
        onFail: function (err) {

        }
	});
}


function changeHash(){
	document.title = "hashhaha";
	location.hash="#"+i;
}


function pay(){
	var var1 = window.nuva.require('biz.alipay');

	var1.pay({
    info: '_input_charset=\"UTF-8\"&body=电话_111\"&goods_type=\"1\"&notify_url=\"http://10.218.137.252/payway/appChargeAsynNotify.do\"&out_trade_no=\"201605053800020057\"&partner=\"2088101162882063\"&payment_type=\"1\"&seller_id=\"2088101162882063\"&service=\"mobile.securitypay.pay\"&sign=\"KIursa8paUecqqgZOFTJvu5HJbVVr7hM3mgjoh%2BSe5%2BDhEOSWWaGyTg8nKantjfTB3TrrV%2Fw8j1VWKBfakIXrR80aYZTe6aplsfHl%2FuXj9OfBceSPAFut0WBhq3ea6wW3rDjud9EdSpg2eTpHRucKI4AxZU5A%2BqPWkGBptdOpn0%3D\"&sign_type=\"RSA\"&subject=\"充值:电话_111,业务交易号:1000000223600090057\"&total_fee=\"44\"', // 订单信息，
    onSuccess: function (result) {
    	alert(JSON.stringify(result));
        // {
        //     memo: 'xxxx', // 保留参数，一般无内容
        //     result: 'xxxx', // 本次操作返回的结果数据
        //     resultStatus: '' // 本次操作的状态返回值，标识本次调用的结果
        // }
    },
    onFail: function (err) {
	    	alert(JSON.stringify(err));
    }
});

}

</script>
<body>
	<input type="file" name="_f" id="_f" /> 

	<h1>It works!</h1>
	<img src="	http://static.dingtalk.com/media/lADOBRFfk80B4M0BaA_360_480.jpg" alt="smile" />

	<button onclick="setMenu()">setMenu接口1</button>
	<input type="text" name="username" id="uname"></input>
	<a href="./aa.html?dd_nav_bgcolor=FF5E97F6">跳转url</a> 
<a href="./bb.html?dd_nav_bgcolor=FF5E97F6">跳转dao文档</a> -->


	<button onclick="getAlert(1)">complexChoose接口2</button>

	<button onclick="warn()">warn</button>


<!-- 	<form action="setMenu1()" method="get">
  	<p>jsObject: <input type="text" name="fname" id="uname"/></p>
  	<input type="submit" value="Submit" />
	</form>

 -->	<input type="text" name="username" id="uname"></input>
	<button onclick="setMenu1()">执行</button>

	<button onclick="setLeft()">setleft</button>
	<button onclick="setRight()">setRight</button>

	<button onclick="saveSpace()">saveSpace</button>
	<button onclick="preview()">preview</button>

	<button onclick="openLink()">JSAPI</button>

	<button onclick="setIcon()">setIcon</button>
	<button onclick="getUser()">getUser</button>
	<button onclick="setMenu11()">setMenu11</button>
	<button onclick="setNoIcon()">setNOicon</button>
	<button onclick="setTitlefrom()">setTitlefrom</button>
	<button onclick="changeHash()">changeHash</button>

	<button onclick="NfcRead()">NfcRead</button>
	<button onclick="NfcWrite()">NfcWrite</button>

	<button onclick="startRecord()">录音开始</button>
	<button onclick="stopRecord()">录音结束</button>
	<button onclick="scan()">扫码</button>

	<button onclick="translation()">语音转文字</button>

	<button onclick="pay()">zhifu</button>






<input type="text" id="testId" onPropertyChange="showValue(this.value)" />
<script>
function dochg(){
 document.getElementById("testId").value = "test"
}
setTimeout("dochg()",1000)
function showValue(obj){
 alert("changed value is " + obj);
}
</script>


<!-- 	<button onclick="getAlert(1)">complexChoose接口2</button>






	<button onclick="getConfirm()">choose接口</button>
	<button onclick="getPrompt()">getConversationInfoByCid接口</button>
	<a href="tel:13146654710">TELaaaaaaaaaaaaaaa</a> -->
</body>

</html>
